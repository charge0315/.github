# CLAUDE.md - AIアシスタントガイド

このドキュメントは、このリポジトリで作業するAIアシスタント向けの包括的なガイダンスを提供します。コードベース構造、開発ワークフロー、および従うべき主要な規約について説明します。

## リポジトリ概要

これは、ユーザー **charge0315** のコミュニティヘルスファイルとGitHubプロファイル設定の一元的な場所として機能する、`.github` という名前の **特別なGitHubリポジトリ** です。

### 目的

GitHubは `.github` リポジトリを特別なリポジトリとして認識し、以下を提供します：
- **コミュニティヘルスファイル** (CODE_OF_CONDUCT.md, CONTRIBUTING.md, SECURITY.md など) - ユーザーが所有するすべてのパブリックリポジトリに自動的に適用されます
- **GitHubプロファイルREADME** (profile/README.md) - ユーザーのGitHubプロファイルページに表示されます
- **IssueとPRテンプレート** - リポジトリ間で共有できます

## リポジトリ構造

```
.github/
├── .github/
│   └── ISSUE_TEMPLATE/
│       ├── bug_report.yml          # バグレポートIssueテンプレート
│       ├── feature_request.yml     # 機能リクエストIssueテンプレート
│       └── config.yml              # Issueテンプレート設定
├── profile/
│   └── README.md                   # GitHubプロファイルREADME
├── CODE_OF_CONDUCT.md              # コミュニティ行動規範
├── CONTRIBUTING.md                 # コントリビューションガイドライン
├── FUNDING.yml                     # スポンサーシップ/資金提供設定
├── README.md                       # リポジトリ説明
├── SECURITY.md                     # セキュリティポリシー
└── SUPPORT.md                      # サポートドキュメント
```

## ファイルの説明

### コミュニティヘルスファイル

#### CODE_OF_CONDUCT.md
- **目的**: コミュニティの基準と行動への期待を定義
- **標準**: Contributor Covenant v2.0
- **適用範囲**: charge0315が所有するすべてのパブリックリポジトリ
- **主要セクション**:
  - 私たちの誓い（ハラスメントのない体験）
  - 私たちの基準（許容される/許容されない行動）
  - 執行責任
  - 適用範囲と帰属

#### CONTRIBUTING.md
- **目的**: プロジェクトへのコントリビューションガイドライン
- **内容**:
  - Issueの報告方法
  - 変更の送信ワークフロー（fork → branch → commit → PR）
  - コードスタイルの期待事項
  - テスト要件
  - 行動規範への参照

#### SECURITY.md
- **目的**: セキュリティ脆弱性の報告と対処
- **重要ポイント**:
  - パブリックなGitHub Issueで脆弱性を報告しないこと
  - 脆弱性の詳細をメンテナーに直接メール
  - 48時間以内の応答時間のコミットメント
  - 責任ある開示の期待

#### SUPPORT.md
- **目的**: ユーザーがサポートを受ける方法
- **内容**:
  - ドキュメント参照
  - Issue作成ガイドライン
  - ディスカッションフォーラム参照
  - 質問のベストプラクティス

#### FUNDING.yml
- **目的**: リポジトリスポンサーシップオプションの設定
- **現在の状態**: すべての資金提供プラットフォームがコメントアウトされています
- **利用可能なプラットフォーム**: GitHub Sponsors, Patreon, Open Collective, Ko-fi など

### Issueテンプレート

#### .github/ISSUE_TEMPLATE/bug_report.yml
- **タイプ**: 構造化されたYAML Issueフォーム
- **ラベル**: 自動的に "bug" ラベルを追加
- **フィールド**:
  - バグの説明（必須）
  - 再現手順（必須）
  - 期待される動作（必須）
  - 実際の動作（必須）
  - 環境（任意）
  - スクリーンショット（任意）
  - 追加のコンテキスト（任意）

#### .github/ISSUE_TEMPLATE/feature_request.yml
- **タイプ**: 構造化されたYAML Issueフォーム
- **ラベル**: 自動的に "enhancement" ラベルを追加
- **フィールド**:
  - 問題の説明（必須）
  - 提案する解決策（必須）
  - 検討した代替案（任意）
  - 追加のコンテキスト（任意）
  - 優先度ドロップダウン（低/中/高/重大）
  - コントリビューション意思のチェックボックス

#### .github/ISSUE_TEMPLATE/config.yml
- **目的**: Issueテンプレート設定
- **設定**:
  - `blank_issues_enabled: false` - 空白のIssueを無効化
  - ドキュメントとディスカッション用の連絡先リンク

### プロファイルファイル

#### profile/README.md
- **目的**: ユーザーのGitHubプロファイルページ
- **コンテンツセクション**:
  - 自己紹介
  - 技術とツール（Python、JavaScript、React、Dockerなどのバッジ）
  - GitHub統計とグラフ
  - 注目プロジェクト
  - ブログ投稿（プレースホルダー）
  - ソーシャルメディアリンク
- **スタイル**: shields.ioバッジ、GitHub統計ウィジェット、中央寄せレイアウトを使用

#### README.md
- **現在の内容**: ".github 新規作成"
- **目的**: 簡単なリポジトリ説明
- **注意**: リポジトリの目的を説明するために拡張可能

## 開発ワークフロー

### コミュニティヘルスファイルの変更

コミュニティヘルスファイルを変更する際：

1. **影響を理解する**: 変更はすべてのパブリックリポジトリに影響します
2. **慎重にレビュー**: これらのファイルはコミュニティの基準を設定します
3. **規約に従う**:
   - 明確で専門的な言葉を使用
   - 既存の構造とフォーマットを維持
   - 内容は簡潔で実行可能に保つ
4. **テンプレートをテスト**: Issueテンプレートの場合、YAML構文が有効であることを確認

### Issueテンプレートの更新

1. **YAML構文**: コミット前に厳密に検証
2. **必須フィールド**: 情報収集とユーザーの負担のバランスを取る
3. **ラベル**: リポジトリにラベルが存在することを確認、または自動作成されます
4. **テスト**: テストIssueを作成してテンプレートの機能を確認

### プロファイルREADMEの変更

1. **視覚的一貫性**: Tokyo Nightテーマと中央寄せレイアウトを維持
2. **バッジとウィジェット**: すべての外部サービス（shields.io、vercel.appなど）のURLが正しいことを確認
3. **個人情報**: プレースホルダーを実際の情報で更新
4. **リンク**: すべてのURLが機能することを確認

### Gitワークフロー

このリポジトリの標準Gitワークフロー：

```bash
# 機能ブランチを作成
git checkout -b feature/説明

# 変更を加える
# ... ファイルを編集 ...

# 明確なメッセージでコミット
git add .
git commit -m "type: 変更の明確な説明"

# originにプッシュ
git push -u origin feature/説明

# プルリクエストを作成（該当する場合）
```

## AIアシスタント向けの主要規約

### ファイル変更ガイドライン

1. **コミュニティヘルスファイル**
   - **すべきこと**: 専門的で包括的な言葉を維持
   - **すべきこと**: CODE_OF_CONDUCT.mdについてはContributor Covenant標準に従う
   - **すべきこと**: セキュリティ報告の指示を明確かつ非公開に保つ
   - **してはいけないこと**: ユーザーの承認なしに破壊的な変更を加える
   - **してはいけないこと**: 議論なしに重要なセクションを削除する

2. **Issueテンプレート**
   - **すべきこと**: コミット前にYAML構文を検証
   - **すべきこと**: 役立つプレースホルダーテキストを含める
   - **すべきこと**: 必須フィールドと任意フィールドのバランスを取る
   - **してはいけないこと**: 報告を妨げる複雑すぎるフォームを作成する
   - **してはいけないこと**: ラベル割り当てを変更する場合、ラベルの更新を忘れない

3. **プロファイルREADME**
   - **すべきこと**: 視覚的一貫性を維持（テーマ、配置、バッジ）
   - **すべきこと**: 正しいユーザー名で統計ウィジェットを更新
   - **すべきこと**: すべての外部リンクが機能することを確認
   - **してはいけないこと**: 本番環境でプレースホルダーを使用（実際の情報で置換）
   - **してはいけないこと**: 中央寄せレイアウトや視覚的テーマを壊さない

### コード品質基準

1. **Markdown**:
   - 一貫した見出しレベルを使用
   - セクション間に空白行を含める
   - 適切なリンクフォーマットを使用: `[テキスト](url)`
   - Markdown構文を検証

2. **YAML**:
   - 2スペースでインデント
   - コミット前に構文を検証
   - 特殊文字を含む文字列を引用符で囲む
   - GitHubのIssueフォームスキーマに従う

3. **ファイル構成**:
   - ファイルを指定されたディレクトリに保持
   - 明確で説明的なファイル名を使用
   - 該当する場合はアルファベット順を維持

### セキュリティ上の考慮事項

1. **決してコミットしないもの**:
   - 個人のメールアドレス（意図的に公開する場合を除く）
   - APIキーまたはトークン
   - プライベートリポジトリ情報
   - 機密ユーザーデータ

2. **セキュリティ報告**:
   - SECURITY.mdの指示を明確に保つ
   - プライベートな報告チャネルを強調
   - コミットで脆弱性を開示しない

### コミュニケーションスタイル

このリポジトリで作業する際：

1. **コミットメッセージ**:
   - 従来のコミット形式を使用: `type: 説明`
   - タイプ: `feat`, `fix`, `docs`, `style`, `refactor`, `chore`
   - 例: `docs: コントリビューションガイドラインを更新`

2. **ドキュメント**:
   - 明確でシンプルな言葉で書く
   - 能動態を使用
   - 簡潔だが完全に
   - 役立つ例を含める

3. **Issueテンプレート**:
   - 歓迎的で励ましの言葉を使用
   - 明確な指示を提供
   - 役立つプレースホルダーを含める

## 一般的なタスク

### 新しいIssueテンプレートの追加

1. `.github/ISSUE_TEMPLATE/` に新しいYAMLファイルを作成
2. この構造に従う:
```yaml
name: テンプレート名
description: テンプレートの説明
title: "[PREFIX]: "
labels: ["label1", "label2"]
body:
  - type: markdown
    attributes:
      value: |
        導入テキスト
  - type: textarea
    id: unique_id
    attributes:
      label: フィールドラベル
      description: フィールドの説明
    validations:
      required: true
```
3. 必要に応じて `config.yml` を更新
4. Issueを作成してテンプレートをテスト

### プロファイル統計の更新

プロファイルREADMEは自動的に更新される外部ウィジェットを使用しています。テーマやスタイルを変更するには：

1. ウィジェットURL（例：`github-readme-stats.vercel.app`）を見つける
2. クエリパラメータを変更:
   - `theme=tokyonight` - 配色を変更
   - `hide_border=true` - 境界線を削除
   - `count_private=true` - プライベートリポジトリを含む
3. 新しいURLが正しくレンダリングされることを確認

### 資金提供の有効化

FUNDING.ymlでスポンサーシップオプションを有効にするには：

1. 関連するプラットフォーム行のコメントを解除
2. プレースホルダーをユーザー名/URLで置換
3. 例: `github: charge0315`
4. 変更をコミットしてプッシュ
5. リポジトリに「スポンサー」ボタンが表示されます

## ベストプラクティス

### AIアシスタント向け

1. **変更前に読む**: 変更を加える前に常に既存のファイルを完全に読む
2. **意図を保持**: ファイルの元の目的とトーンを維持
3. **構文を検証**: 特にYAMLファイルの場合、コミット前に検証
4. **変更を説明**: 明確なコミットメッセージと説明を提供
5. **不確かな場合は質問**: 変更が広範な影響を与える可能性がある場合、まずユーザーに尋ねる
6. **テンプレートをテスト**: Issueテンプレートの場合、期待通りに機能することを確認
7. **一貫性を維持**: フォーマット、スタイル、規約を一貫して保つ
8. **範囲を考慮**: コミュニティファイルへの変更がすべてのリポジトリに影響することを忘れない

### リポジトリメンテナンス向け

1. **定期的な更新**:
   - 連絡先情報をレビューして更新
   - 外部リンクが機能し続けることを確認
   - 現在のプロジェクトでプロファイルREADMEを更新

2. **テンプレートの有効性**:
   - テンプレートが有用な情報を収集しているか監視
   - 使用状況に基づいて必須/任意フィールドを調整
   - プロジェクトのニーズが進化するにつれてテンプレートを更新

3. **ドキュメントの明確性**:
   - 指示を明確かつ最新に保つ
   - 公開前にプレースホルダーテキストを削除
   - すべてのコミュニティファイル間で一貫性を確保

## 技術的詳細

### GitHub特別リポジトリ

`.github` リポジトリが特別な理由：

1. **自動フォールバック**: パブリックリポジトリが独自のコミュニティヘルスファイルを持っていない場合、GitHubは自動的にこのリポジトリのファイルを使用します
2. **プロファイルREADME**: `profile/README.md` ファイルがユーザーのプロファイルに表示されます
3. **組織全体**: 組織アカウントの場合、すべてのリポジトリにデフォルトファイルを提供できます

### ファイルの優先順位

GitHubがコミュニティヘルスファイルを探す際：

1. まずリポジトリ自体をチェック（例：`repo/CODE_OF_CONDUCT.md`）
2. 次に `.github` リポジトリをチェック（例：`.github/CODE_OF_CONDUCT.md`）
3. 組織の場合、`.github/.github/` ディレクトリをチェック

### サポートされているコミュニティヘルスファイル

リポジトリ間で自動的に適用されるファイル：
- CODE_OF_CONDUCT.md
- CONTRIBUTING.md
- FUNDING.yml
- GOVERNANCE.md
- SECURITY.md
- SUPPORT.md
- IssueとPRテンプレート

## トラブルシューティング

### Issueテンプレートが表示されない

1. YAML構文が有効であることを確認
2. ファイルが `.github/ISSUE_TEMPLATE/` ディレクトリにあることを確認
3. `config.yml` に競合する設定がないことを確認
4. ブラウザキャッシュをクリアしてリロード

### プロファイルREADMEが更新されない

1. ファイルが `profile/README.md`（正確なパス）にあることを確認
2. リポジトリ名が正確に `.github` であることを確認
3. リポジトリの可視性がパブリックであることを確認
4. GitHubが更新するまで数分待つ

### コミュニティファイルが適用されない

1. リポジトリがパブリックであることを確認（コミュニティファイルはプライベートリポジトリには適用されません）
2. ファイル名が正確に一致することを確認（大文字小文字を区別）
3. リポジトリ名が `.github`（ユーザー）または `.github/.github/`（組織）であることを確認

## リソース

### 公式ドキュメント

- [GitHubコミュニティヘルスファイル](https://docs.github.com/ja/communities/setting-up-your-project-for-healthy-contributions/creating-a-default-community-health-file)
- [GitHub Issueテンプレート構文](https://docs.github.com/ja/communities/using-templates-to-encourage-useful-issues-and-pull-requests/syntax-for-issue-forms)
- [GitHubプロファイルREADME](https://docs.github.com/ja/account-and-profile/setting-up-and-managing-your-github-profile/customizing-your-profile/managing-your-profile-readme)
- [Contributor Covenant](https://www.contributor-covenant.org/)

### 便利なツール

- [shields.io](https://shields.io/) - バッジジェネレーター
- [GitHub Stats](https://github.com/anuraghazra/github-readme-stats) - プロファイル統計ウィジェット
- [YAML Validator](https://www.yamllint.com/) - YAML構文検証
- [Markdown Validator](https://www.markdownlint.com/) - Markdownフォーマットチェック

## バージョン履歴

- **2025-11-16**: 包括的なドキュメントを含むCLAUDE.mdの初期作成
- **2025-11-16**: すべてのMDファイルを日本語化

## 連絡先

このリポジトリ構造や規約についての質問：
- メール: charge0315@gmail.com
- GitHub: [@charge0315](https://github.com/charge0315)

---

**注意**: このドキュメントは、AIアシスタントがリポジトリの構造と規約を理解するために意図されています。リポジトリが進化するにつれて更新してください。
